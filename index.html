<!doctype html>
<html>
<head>
  <link rel='stylesheet' href='/bower_components/dragula.js/dist/dragula.css' type='text/css'>
  <script src='/bower_components/webcomponentsjs/webcomponents-lite.min.js'></script>
  <link rel="import" href='/bower_components/polymer/polymer.html'>
  <link rel="import" href="/bower_components/tux-drag-drop/tux-drag-drop.html">
  <link rel='import' href='/bower_components/mat-elements/mat-elements.html'>
</head>
<body unresolved>
  <template is="dom-bind" id='app'>
    <style>
      .wrapper {
        display: flex;
      }
      #myDropZone {
        min-height: 200px;
        min-width: 200px;
        background: #CCC;
        border-radius: 8px;
      }
    </style>
    <tux-drake id='drake'></tux-drake>
    <mat-list id='mylist'>
    <tux-drag-drop-container drake='#drake'>
        <mat-item>Item A</mat-item>
        <mat-item>Item B</mat-item>
        <mat-item>Item C</mat-item>

        <mat-item>Item X</mat-item>
        <mat-item>Item Y</mat-item>
        <mat-item>Item Z</mat-item>
    </tux-drag-drop-container>
    </mat-list>

    <tux-drag-drop-container drake='#drake' for='#cats #matListWrapper'>
      <mat-list id='cats'>
        <mat-item label='First Cat'>
          <img src='http://lorempixel.com/400/200/cats/1'>
        </mat-item>
        <mat-item label='Second Cat'>
          <img src='http://lorempixel.com/400/200/cats/2'>
        </mat-item>
      </mat-list>
    </tux-drag-drop-container>

  </template>
  <script>
    window.addEventListener('WebComponentsReady', function() {
      var app = document.querySelector('#app');
      app.bar = function() {
        console.log('bar got called');
      }
      app.collapseOnDrag  = function(event){
        var el = event.detail.element;
        var src = event.detail.source;
        if(!el.collapsed) {
          el.wasNotCollapsedBeforeDrag = true;
          el.collapse();
        }
      }
      app.uncollapseOnDrop = function(event) {
        var el = event.detail.element;
        if(el.wasNotCollapsedBeforeDrag)
          el.expand();
      }
    });
  </script>
</body>
</html>
